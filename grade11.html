<!doctype html>
<html lang="kk">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>11-сынып • Экология (3 тақырып)</title>
  <link rel="stylesheet" href="assets/style.css"/>
</head>
<body>
<header class="nav"><div class="nav-inner">
  <div class="brand"><div class="logo"></div><div><h1>BioMind</h1><small>11-сынып • Экология (кеңейтілген)</small></div></div>
  <nav class="menu"><a class="pill" href="index.html">Басты бет</a><a class="pill" href="teacher.html">Мұғалім</a></nav>
</div></header>

<main class="container">
  <div class="card">
    <h2 class="h-title">11-сынып — Экология</h2>
    <p class="h-sub">3 тақырып: 1) Экожүйе және энергия ағыны 2) Популяция динамикасы 3) Экологиялық мәселелер және тұрақтылық. Әрқайсысы: теория + қосымша + iframe + тест (рандом 10/20) + % + график.</p>
    <div class="btn-row">
      <button class="btn primary" type="button" onclick="pickTopic('t1')">1) Экожүйе + энергия</button>
      <button class="btn" type="button" onclick="pickTopic('t2')">2) Популяция динамикасы</button>
      <button class="btn" type="button" onclick="pickTopic('t3')">3) Мәселе + тұрақтылық</button>
    </div>
    <div class="notice small" style="margin-top:10px">
      Тақырып ауыстырсаңыз — тест те қайта генерацияланады. Нәтиже teacher.html бетіне сақталады.
    </div>
  </div>

  <div class="card">
    <h2 class="h-title" id="moduleTitle"></h2>

    <h3>Теория</h3>
    <div id="theoryText" class="small"></div>

    <h3 style="margin-top:14px">Қосымша ақпарат</h3>
    <div id="extraText" class="small"></div>

    <h3 style="margin-top:14px">Видео</h3>
    <div class="notice small">Егер видео ашылмаса: YouTube-тан “ecosystem energy flow / population growth / environmental issues” деп іздеңіз.</div>
    <iframe id="videoFrame" loading="lazy" referrerpolicy="no-referrer"></iframe>
  </div>

  <div class="card">
    <h3>Тест (рандом 10/20)</h3>
    <input id="studentName" placeholder="Оқушы аты-жөні"/>
    <div class="btn-row">
      <button class="btn" id="regenBtn" type="button">Қайта генерациялау</button>
      <button class="btn primary" id="checkBtn" type="button">Тексеру</button>
    </div>
    <div id="testArea"></div>
    <hr/>
    <div id="resultText"></div>
    <p class="small" id="afterSaveNote"></p>
    <canvas id="chartCanvas" width="520" height="180"></canvas>
  </div>
</main>

<script>
const TOPICS = {
  t1: {
    grade: 11,
    topic: "Экожүйе және энергия ағыны (трофикалық деңгейлер)",
    theory:
"Экожүйе = биоценоз (тірі ағзалар қауымдастығы) + биотоп (орта). Энергия өндірушілерден (өсімдік) тұтынушыларға, кейін ыдыратушыларға өтеді. Қоректік тізбек: өндіруші → І реттік тұтынушы → ІІ реттік тұтынушы → ыдыратушы.",
    extra:
"Энергия трофикалық деңгей көтерілген сайын азаяды (жылу түрінде жоғалады). Сондықтан жоғарғы деңгейдегі жыртқыштар саны аз. Зат айналымы (су, көміртек, азот) экожүйенің тұрақтылығын қолдайды.",
    iframe:"https://www.youtube.com/embed/7xw5nJ8U8xI",
    bank: [
      {q:"Экожүйе құрамына кіреді:", options:["Биоценоз+биотоп","Тек су","Тек ауа","Тек тас"], correct:0},
      {q:"Өндірушілер (продюсер):", options:["Өсімдіктер","Жыртқыш","Паразит","Тек бактерия"], correct:0},
      {q:"Ыдыратушылар:", options:["Бактерия/саңырауқұлақ","Қоян","Қасқыр","Бүркіт"], correct:0},
      {q:"Қоректік тізбекте энергия:", options:["Жоғарылаған сайын азаяды","Артады","Өзгермейді","Жойылмайды"], correct:0},
      {q:"Трофикалық деңгей деген:", options:["Қоректік саты","Тек ауа","Тек су","Тек түс"], correct:0},
      {q:"Биоценоз —", options:["Тірі ағзалар қауымдастығы","Өлі орта","Тек топырақ","Тек ауа"], correct:0},
      {q:"Биотоп —", options:["Өлі орта","Тек жануар","Тек өсімдік","Тек бактерия"], correct:0},
      {q:"Дұрыс тізбек:", options:["Шөп→Қоян→Түлкі","Түлкі→Шөп→Қоян","Су→Тас→Ауа","Темір→Алтын→Күміс"], correct:0},
      {q:"Энергия жоғалуының себебі:", options:["Жылу түрінде тарайды","Тек су","Тек түс","Тек дыбыс"], correct:0},
      {q:"Жоғарғы жыртқыштар саны аз, себебі:", options:["Энергия аз қалады","Олар көрінбейді","Тек қыста","Тек суда"], correct:0},
      {q:"Зат айналымы мысалы:", options:["Көміртек айналымы","Тек дыбыс","Тек түс","Тек тас"], correct:0},
      {q:"Азот айналымына қатысады:", options:["Бактериялар","Тек өсімдік","Тек құс","Тек адам"], correct:0},
      {q:"Экожүйе тұрақтылығы:", options:["Көптүрлілікпен артады","Көптүрлілікпен төмендейді","Тек ауа","Тек су"], correct:0},
      {q:"Тұтынушы (консумент):", options:["Дайын органикалық зат жейтін","Тек фотосинтез","Тек ыдырату","Тек минерал"], correct:0},
      {q:"І реттік тұтынушы:", options:["Шөпқоректі","Жыртқыш","Өсімдік","Саңырауқұлақ"], correct:0},
      {q:"ІІ реттік тұтынушы:", options:["Жыртқыш","Өсімдік","Ыдыратушы","Тек бактерия"], correct:0},
      {q:"Экожүйедегі энергия көзі (көбіне):", options:["Күн","Жел","Тас","Темір"], correct:0},
      {q:"Ыдыратушылардың рөлі:", options:["Минералды заттарға қайтарады","Энергияны көбейтеді","Тек түс","Тек дыбыс"], correct:0},
      {q:"Қоректік тор:", options:["Бірнеше тізбектің байланысы","Тек 1 тізбек","Тек ауа","Тек су"], correct:0},
      {q:"Энергия ағыны:", options:["Бір бағытта жүреді","Кері жүреді","Тек суда","Тек ауада"], correct:0},
    ]
  },

  t2: {
    grade: 11,
    topic: "Популяция динамикасы (өсім, шектеуші факторлар, carrying capacity)",
    theory:
"Популяция — бір түр дараларының белгілі аумақтағы тобы. Популяция саны туу, өлім, көшу арқылы өзгереді. Өсім түрлері: экспоненциалды (шектеу аз) және логистикалық (ресурс шектеулі, carrying capacity — ортаның сыйымдылығы бар).",
    extra:
"Шектеуші факторлар: қорек, су, орын, ауру, жыртқыш. Тығыздыққа тәуелді факторлар (ауру, бәсеке) популяция тығыздалғанда күшейеді. Тепе-теңдікке ұмтылу — экожүйе тұрақтылығының бөлігі.",
    iframe:"https://www.youtube.com/embed/0Z760XNy4VM",
    bank: [
      {q:"Популяция деген:", options:["Бір түр даралары тобы","Әр түрлі түр","Бір дара","Бір ұлпа"], correct:0},
      {q:"Популяция санына әсер етеді:", options:["Туу, өлім, көшу","Тек түс","Тек дыбыс","Тек жарық"], correct:0},
      {q:"Экспоненциалды өсім:", options:["Шектеу азда тез өседі","Әрқашан тұрақты","Кері азаяды","Тек суда"], correct:0},
      {q:"Логистикалық өсім:", options:["Ресурс шектеулі, бір деңгейде тоқтайды","Шексіз өседі","Тек түс","Тек дыбыс"], correct:0},
      {q:"Carrying capacity:", options:["Ортаның сыйымдылығы (макс саны)","Тек ауа","Тек су","Тек тас"], correct:0},
      {q:"Шектеуші фактор:", options:["Қорек","Музыка","Түс","Кітап"], correct:0},
      {q:"Тығыздыққа тәуелді фактор:", options:["Ауру","Климат","Жер сілкінісі","Жанартау"], correct:0},
      {q:"Тығыздыққа тәуелсіз фактор:", options:["Дауыл/құрғақшылық","Бәсеке","Ауру","Паразит"], correct:0},
      {q:"Бәсеке күшейеді, егер:", options:["Ресурс азайса","Ресурс көп болса","Түс өзгерсе","Дыбыс қатты"], correct:0},
      {q:"Жыртқыш әсері:", options:["Популяцияны реттейді","Тек өсіреді","Еш әсер жоқ","Тек түс"], correct:0},
      {q:"Туу көрсеткіші:", options:["Артуы өсімді көбейтеді","Артуы азайтады","Еш әсер жоқ","Тек дыбыс"], correct:0},
      {q:"Өлім көрсеткіші артса:", options:["Саны азаяды","Саны артады","Өзгермейді","Тек түс"], correct:0},
      {q:"Иммиграция:", options:["Келіп қосылу","Кетіп қалу","Тек ұйқы","Тек су"], correct:0},
      {q:"Эмиграция:", options:["Кетіп қалу","Келіп қосылу","Тек ауа","Тек түс"], correct:0},
      {q:"Популяция тығыздығы:", options:["Аумақтағы дара саны","Тек су","Тек ауа","Тек тас"], correct:0},
      {q:"Қорек азайса:", options:["Өсім баяулайды","Өсім шексіз","Өзгермейді","Тек дыбыс"], correct:0},
      {q:"Ауру тез тарайды, егер:", options:["Тығыздық жоғары","Тығыздық төмен","Тек қыста","Тек суда"], correct:0},
      {q:"Логистикалық өсім соңында:", options:["Тепе-теңдікке жақындайды","Шексіз өседі","Нөл болады","Тек түс"], correct:0},
      {q:"Экожүйе тұрақтылығына маңызды:", options:["Популяцияның реттелуі","Тек түс","Тек дыбыс","Тек жел"], correct:0},
      {q:"Дұрыс тұжырым:", options:["Ресурс шектеулі болса — өсім шектеледі","Ресурс шектеулі болса — өсім шексіз","Тек ауа","Тек су"], correct:0},
    ]
  },

  t3: {
    grade: 11,
    topic: "Экологиялық мәселелер және тұрақты даму (ластану, климат, қорғау)",
    theory:
"Қазіргі экологиялық мәселелер: ауа/су/топырақ ластануы, пластик қалдық, орман кесу, биоалуантүрліліктің азаюы, климаттың өзгеруі. Адам әрекеті (антропогендік фактор) экожүйе тепе-теңдігін бұза алады.",
    extra:
"Тұрақты даму қағидасы: бүгінгі қажеттілікті өтей отырып, болашақ ұрпаққа зиян келтірмеу. Шешімдер: қалдықты азайту/сұрыптау, энергия үнемдеу, жасыл технология, қорықтар, экобілім. Жеке деңгейде де әдет маңызды.",
    iframe:"https://www.youtube.com/embed/EtW2rrLHs08",
    bank: [
      {q:"Антропогендік фактор:", options:["Адам әсері","Температура","Жарық","Ылғал"], correct:0},
      {q:"Ластану түрі:", options:["Ауа ластануы","Тек түс","Тек дыбыс","Тек жел"], correct:0},
      {q:"Пластиктің зияны:", options:["Ұзақ ыдырайды, жануарға қауіп","Тез жойылады","Тек түс береді","Тек иіс"], correct:0},
      {q:"Климат өзгеруі:", options:["Температура/жауын өзгеруі","Тек су","Тек тас","Тек дыбыс"], correct:0},
      {q:"Орман кесудің салдары:", options:["Биоалуантүрлілік төмендейді","Тұрақтылық өседі","Ештеңе","Тек түс"], correct:0},
      {q:"Биоалуантүрлілік деген:", options:["Түрлер әртүрлілігі","Тек 1 түр","Тек тас","Тек ауа"], correct:0},
      {q:"Биоалуантүрлілік азайса:", options:["Экожүйе әлсірейді","Экожүйе күшейеді","Өзгермейді","Тек дыбыс"], correct:0},
      {q:"Тұрақты даму:", options:["Болашаққа зиян келтірмей даму","Тек қазір өмір","Тек түс","Тек су"], correct:0},
      {q:"Қалдықты азайтудың бір жолы:", options:["Сұрыптау/қайта өңдеу","Көбірек жағу","Көму ғана","Тек жинау"], correct:0},
      {q:"Жасыл технология:", options:["Энергия үнемдеу/таза көз","Тек музыка","Тек түс","Тек су"], correct:0},
      {q:"Қорықтардың мақсаты:", options:["Табиғатты қорғау","Көлік жүргізу","Қоқыс төгу","Тек ойын"], correct:0},
      {q:"Су ластануы неге әкеледі?", options:["Ағзалардың өлімі/ауру","Тек түс","Тек дыбыс","Тек жел"], correct:0},
      {q:"Ауа ластануы әсері:", options:["Тыныс алу аурулары","Тек ұйқы","Тек түс","Тек иіс"], correct:0},
      {q:"Көмірқышқыл газы көбейсе:", options:["Жылыну әсері күшеюі мүмкін","Су тұзға айналады","Тек түс","Тек дыбыс"], correct:0},
      {q:"Энергияны үнемдеу мысалы:", options:["Артық жарықты өшіру","Суды бос ағызу","Қоқыс шашу","Тек дыбыс"], correct:0},
      {q:"Экобілімнің мәні:", options:["Дұрыс экодағды қалыптастыру","Тек тест","Тек түс","Тек музыка"], correct:0},
      {q:"Қайта өңдеу:", options:["Қалдықты жаңа өнімге айналдыру","Қоқысты көбейту","Тек көму","Тек жағу"], correct:0},
      {q:"Қышқыл жаңбыр себебі:", options:["Ауа ластағыштар (SO₂/NOx)","Тек су","Тек күн","Тек жел"], correct:0},
      {q:"Көміртек ізін азайту:", options:["Қоғамдық көлік/үнем","Көбірек жанармай","Көбірек қоқыс","Тек түс"], correct:0},
      {q:"Дұрыс тұжырым:", options:["Әр адам әдеті маңызды","Тек мемлекет маңызды","Тек мектеп","Ешкім"], correct:0},
    ]
  }
};

function pickTopic(key){
  window.moduleData = TOPICS[key];
  renderTest(window.moduleData);
  document.title = `11-сынып • ${window.moduleData.topic}`;
}
pickTopic('t1');
</script>

<script src="assets/app.js"></script>
</body>
</html>

